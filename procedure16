SELECT * FROM Employee2;
SET SERVEROUTPUT ON;
CREATE OR REPLACE PROCEDURE P1
IS
CURSOR C1 IS SELECT EMP_ID,SALARY,DOJ FROM EMPLOYEE2;
I_EMP_ID INTEGER;
I_SALARY INTEGER;
I_DOJ DATE;
I_COMMISSION NUMBER;
I_EXP INTEGER;
BEGIN
    OPEN C1;
    LOOP
        FETCH C1 INTO I_EMP_ID,I_SALARY,I_DOJ;
        EXIT WHEN C1%NOTFOUND;
       
        I_EXP := TRUNC(I_DOJ-SYSDATE);
       
        IF I_SALARY >= 10000 THEN
            I_COMMISSION := 0.4;
        ELSIF I_SALARY <= 10000 AND I_EXP >= 10 THEN
            I_COMMISSION := 0.35;
        ELSIF I_SALARY <= 3000 THEN
            I_COMMISSION := 0.25;
        ELSE
            I_COMMISSION := 0.15;
        END IF;
        DBMS_OUTPUT.PUT_LINE(I_COMMISSION);
        UPDATE EMPLOYEE2 SET commission = I_COMMISSION WHERE EMP_ID = I_EMP_ID;
       
    END LOOP;
END;
ALTER TABLE Employee2 ADD COMMISSION DOUBLE pRECISION;
EXEC P1;

SET SERVEROUTPUT ON;
CREATE OR REPLACE FUNCTION F1(
I_DEPT_ID IN INTEGER
)
RETURN VARCHAR IS
I_DEPT_NAME VARCHAR(20);
BEGIN
    SELECT DEPT_NAME INTO I_DEPT_NAME FROM employee2 WHERE DEPT_ID = i_dept_id;
    RETURN i_dept_name;
END;

DECLARE
I_DEPT_ID INTEGER;
I_DEPT_NAME VARCHAR(20);
BEGIN
    i_dept_id := &I_DEPT_ID;
    I_DEPT_NAME:=F1(I_DEPT_ID);
    dbms_output.put_line(I_DEPT_NAME);
END;
